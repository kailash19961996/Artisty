export const artPieces = [
    {
      "id": 1,
      "name": "Chrome Velocity",
      "description": "Neon blues, reds race; speed blurs reality, car becomes dream.",
      "price": 2900.0,
      "origin": "Netherlands",
      "image": "art01.png"
    },
    {
      "id": 2,
      "name": "Dusky Pines",
      "description": "Amber, blue, plum blend; trees whisper twilight secrets through texture.",
      "price": 1400.0,
      "origin": "Canada",
      "image": "art02.png"
    },
    {
      "id": 3,
      "name": "Sunlit Tides",
      "description": "Golden, teal, crimson; waves of color flow like warm embrace.",
      "price": 2100.0,
      "origin": "Italy",
      "image": "art03.png"
    },
    {
      "id": 4,
      "name": "Electric Chaos",
      "description": "Orange erupts, wild lines tangle; energy bursts in modern symphony.",
      "price": 3200.0,
      "origin": "USA",
      "image": "art04.png"
    },
    {
      "id": 5,
      "name": "Serene Reflection",
      "description": "Aquas and golds merge; horizon blurs, artist invites tranquil contemplation.",
      "price": 1800.0,
      "origin": "Greece",
      "image": "art05.png"
    },
    {
      "id": 6,
      "name": "Molten Motors",
      "description": "Fiery orange cars swirl, energy and movement merge with black.",
      "price": 3700.0,
      "origin": "Spain",
      "image": "art06.png"
    },
    {
      "id": 7,
      "name": "Chrome Memory",
      "description": "Rust-red, blue, silver nostalgia; classic car gleams with time’s echoes.",
      "price": 2500.0,
      "origin": "China",
      "image": "art07.png"
    },
    {
      "id": 8,
      "name": "Retro Sea",
      "description": "Classic cars, reds, blues, creams; nostalgia drifts through painted waves.",
      "price": 1500.0,
      "origin": "Chile",
      "image": "art08.png"
    },
    {
      "id": 9,
      "name": "Violet Whispers",
      "description": "Purples, blues, pinks swirl; gentle energy dances with dreamy intention.",
      "price": 2750.0,
      "origin": "Turkey",
      "image": "art09.png"
    },
    {
      "id": 10,
      "name": "Sugar Bloom",
      "description": "Yellow, lilac, red melt; sweetness and joy erupt in color.",
      "price": 1650.0,
      "origin": "Brazil",
      "image": "art10.png"
    },
    {
      "id": 11,
      "name": "Cosmic Furnace",
      "description": "Orange sun, purple clouds swirl; chaos and creation meet spectacularly.",
      "price": 2200.0,
      "origin": "Norway",
      "image": "art11.png"
    },
    {
      "id": 12,
      "name": "Marble Masquerade",
      "description": "Blue, orange, grey marbling; mysterious faces emerge from abstract depths.",
      "price": 1200.0,
      "origin": "France",
      "image": "art12.png"
    },
    {
      "id": 13,
      "name": "Solar Pulse",
      "description": "Radiant red, yellow circles, vibrant energy ripples outward, cosmic play.",
      "price": 2100.0,
      "origin": "Japan",
      "image": "art13.png"
    },
    {
      "id": 14,
      "name": "Petal Drift",
      "description": "Gold, plum, green cradle a blossom; delicate energy swirls quietly.",
      "price": 1600.0,
      "origin": "Egypt",
      "image": "art14.png"
    },
    {
      "id": 15,
      "name": "Neon Reverie",
      "description": "Crimson, aqua, lavender lines; vibrant dreams float in modern haze.",
      "price": 3400.0,
      "origin": "UK",
      "image": "art15.png"
    },
    {
      "id": 16,
      "name": "Boundless Divide",
      "description": "Teal, cream, crimson stripes; black lines hint borders, blending worlds softly.",
      "price": 2700.0,
      "origin": "New Zealand",
      "image": "art16.png"
    },
    {
      "id": 17,
      "name": "Spiral Echo",
      "description": "Pale yellow, wine lines swirl; movement, life, bird, and hope.",
      "price": 1850.0,
      "origin": "Australia",
      "image": "art17.png"
    },
    {
      "id": 18,
      "name": "Rebel Playground",
      "description": "Orange, green, pink, black splatter; wild lines crash, joyful chaos.",
      "price": 1550.0,
      "origin": "India",
      "image": "art18.png"
    },
    {
      "id": 19,
      "name": "Azure Riff",
      "description": "Blue, coral, grey tangle; energy pulses, rhythm dances through abstraction.",
      "price": 2450.0,
      "origin": "Austria",
      "image": "art19.png"
    },
    {
      "id": 20,
      "name": "Sunset Tangle",
      "description": "Amber, gold, scarlet lines twist; dusk falls over dreaming branches.",
      "price": 1950.0,
      "origin": "Portugal",
      "image": "art20.png"
    },
    {
      "id": 21,
      "name": "Crimson Crew",
      "description": "Red, gold suits stand bold; unity, ambition burst through shards.",
      "price": 3000.0,
      "origin": "Israel",
      "image": "art21.png"
    },
    {
      "id": 22,
      "name": "Shattered Story",
      "description": "Violet, cream fragments; lives, memories reflected in each broken piece.",
      "price": 1700.0,
      "origin": "Korea",
      "image": "art22.png"
    },
    {
      "id": 23,
      "name": "Rooted Solitude",
      "description": "Sepia, gold, red lines; figure stands among blooming memories, centered.",
      "price": 2100.0,
      "origin": "Ireland",
      "image": "art23.png"
    },
    {
      "id": 24,
      "name": "Joy Burst",
      "description": "Aqua, yellow, red splashes; celebration explodes with boundless color energy.",
      "price": 3300.0,
      "origin": "Belgium",
      "image": "art24.png"
    },
    {
      "id": 25,
      "name": "Nocturnal Cosmos",
      "description": "Black, red, green, blue; animals and planets meet in vibrant chaos.",
      "price": 2800.0,
      "origin": "India",
      "image": "art25.png"
    },
    {
      "id": 26,
      "name": "Citrus Burst",
      "description": "Yellow, orange, black explode; joy and chaos meet, energy radiates.",
      "price": 2300.0,
      "origin": "Finland",
      "image": "art26.png"
    },
    {
      "id": 27,
      "name": "Whirl Mirage",
      "description": "Red, blue, green swirl; reality bends, dreamlike visions twist gently.",
      "price": 1300.0,
      "origin": "Thailand",
      "image": "art27.png"
    },
    {
      "id": 28,
      "name": "Ocean Bloom",
      "description": "Blues, greens, beige ripple; waves and petals fuse in harmony.",
      "price": 1950.0,
      "origin": "Argentina",
      "image": "art28.png"
    },
    {
      "id": 29,
      "name": "Color Clash",
      "description": "Pink, blue, orange collide; vibrant shapes dance, merging into unity.",
      "price": 1600.0,
      "origin": "Greece",
      "image": "art29.png"
    },
    {
      "id": 30,
      "name": "Divide Abstract",
      "description": "Crimson, white, violet meet; boundaries blur, dynamic energies merge beautifully.",
      "price": 1850.0,
      "origin": "Morocco",
      "image": "art30.png"
    },
    {
      "id": 31,
      "name": "Petal Veins",
      "description": "Purple, yellow, red textures; butterfly wings and life intertwine softly here.",
      "price": 2400.0,
      "origin": "Nepal",
      "image": "art31.png"
    },
    {
      "id": 32,
      "name": "Inferno Roots",
      "description": "Black branches, crimson flames; intense contrasts reveal growth within fire.",
      "price": 3250.0,
      "origin": "Germany",
      "image": "art32.png"
    },
    {
      "id": 33,
      "name": "Fireflight Tracks",
      "description": "Orange, gold trails spark; movement and magic flash over teal shadow.",
      "price": 1450.0,
      "origin": "China",
      "image": "art33.png"
    },
    {
      "id": 34,
      "name": "Aurora Fade",
      "description": "Purple, orange, white streaks; colors blur, shifting between night and dream.",
      "price": 1750.0,
      "origin": "France",
      "image": "art34.png"
    },
    {
      "id": 35,
      "name": "Twilight Flicker",
      "description": "Violet sky, gold sparks; fading day’s last energy dances gently.",
      "price": 1200.0,
      "origin": "Japan",
      "image": "art35.png"
    },
    {
      "id": 36,
      "name": "Rose Quartz",
      "description": "Pink, amber fractals scatter; sunrise energy bursts through waking dream.",
      "price": 2150.0,
      "origin": "Poland",
      "image": "art36.png"
    },
    {
      "id": 37,
      "name": "Saffron Queen",
      "description": "Golden, sage, scarlet rays radiate; lioness rules harmonious, vibrant kingdom.",
      "price": 1650.0,
      "origin": "Switzerland",
      "image": "art37.png"
    },
    {
      "id": 38,
      "name": "Golden Gaze",
      "description": "Amber, ochre fur; lioness reflects sunlight, wisdom, gentle wildness within.",
      "price": 1800.0,
      "origin": "South Africa",
      "image": "art38.png"
    },
    {
      "id": 39,
      "name": "Majesty Drip",
      "description": "Yellow, gray, black drip; feline silhouette glows with proud energy.",
      "price": 2100.0,
      "origin": "Vietnam",
      "image": "art39.png"
    },
    {
      "id": 40,
      "name": "Neon Pride",
      "description": "Blue, magenta, green blend; lion’s strength glows in surreal night.",
      "price": 2950.0,
      "origin": "Iceland",
      "image": "art40.png"
    },
    {
      "id": 41,
      "name": "Tender Kings",
      "description": "White, cream lions touch; compassion and brotherhood radiate through softness.",
      "price": 2250.0,
      "origin": "Ukraine",
      "image": "art41.png"
    },
    {
      "id": 42,
      "name": "Rippled Kin",
      "description": "Ivory, navy, crimson waves; three lions rest, energy flows serenely.",
      "price": 1300.0,
      "origin": "USA",
      "image": "art42.png"
    },
    {
      "id": 43,
      "name": "Pop Savanna",
      "description": "Vivid blue, orange pride; lions pose with modern, comic vibrance.",
      "price": 1700.0,
      "origin": "Cambodia",
      "image": "art43.png"
    },
    {
      "id": 44,
      "name": "Trio Embrace",
      "description": "Green, gold, red swirl; three lionesses unite, glowing with solidarity.",
      "price": 1400.0,
      "origin": "Mexico",
      "image": "art44.png"
    },
    {
      "id": 45,
      "name": "Unified Souls",
      "description": "Sienna, cobalt crowd; faceless figures blend, community stands quietly strong.",
      "price": 2450.0,
      "origin": "Turkey",
      "image": "art45.png"
    },
    {
      "id": 46,
      "name": "Shadow Drift",
      "description": "Figures in orange, purple drift through silver mist and shadow.",
      "price": 1850.0,
      "origin": "Myanmar",
      "image": "art46.png"
    },
    {
      "id": 47,
      "name": "Stone Whisper",
      "description": "Beige and lavender faces emerge, whispering across a blue silence.",
      "price": 2000.0,
      "origin": "Brazil",
      "image": "art47.png"
    },
    {
      "id": 48,
      "name": "Fragmented Choir",
      "description": "Cubist faces in blue and tan merge, chanting silent unity.",
      "price": 2500.0,
      "origin": "USA",
      "image": "art48.png"
    },
    {
      "id": 49,
      "name": "Verdant Divide",
      "description": "Green, gold, and russet trees line a tranquil painted border.",
      "price": 1700.0,
      "origin": "Australia",
      "image": "art49.png"
    },
    {
      "id": 50,
      "name": "Voltage Dream",
      "description": "Jagged black lightning cracks vibrant yellow, orange, red background’s silence.",
      "price": 1600.0,
      "origin": "Hungary",
      "image": "art50.png"
    },
    {
      "id": 51,
      "name": "Twilight Layers",
      "description": "Sunset hues—red, brown, blue, green—swirl in shadowy mystery.",
      "price": 1300.0,
      "origin": "Canada",
      "image": "art51.png"
    },
    {
      "id": 52,
      "name": "Jungle Burst",
      "description": "Green, blue, and orange brushstrokes explode from midnight foliage.",
      "price": 2000.0,
      "origin": "England",
      "image": "art52.png"
    },
    {
      "id": 53,
      "name": "Electric Cosmos",
      "description": "Neon pink, green, orange shapes pulse on a black void.",
      "price": 1850.0,
      "origin": "Finland",
      "image": "art53.png"
    },
    {
      "id": 54,
      "name": "Peach Waves",
      "description": "Flowing peach and pink forms undulate gently, suggesting dream currents.",
      "price": 1400.0,
      "origin": "USA",
      "image": "art54.png"
    },
    {
      "id": 55,
      "name": "Orbit Lines",
      "description": "Red, blue, yellow concentric circles swirl planets in cosmic dance.",
      "price": 2150.0,
      "origin": "Denmark",
      "image": "art55.png"
    },
    {
      "id": 56,
      "name": "Scarlet Mask",
      "description": "Red, yellow, silver melt—emotions swirl in carnival’s vivid chaos.",
      "price": 1700.0,
      "origin": "Philippines",
      "image": "art56.png"
    },
    {
      "id": 57,
      "name": "Jungle Rhythm",
      "description": "Green, blue, orange tangled—energy pulses through wild abstract rainstorm lines.",
      "price": 1950.0,
      "origin": "Brazil",
      "image": "art57.png"
    },
    {
      "id": 58,
      "name": "Crimson Sway",
      "description": "Red, pink, black spiral—artist celebrates passion, motion, and joy.",
      "price": 1350.0,
      "origin": "Russia",
      "image": "art58.png"
    },
    {
      "id": 59,
      "name": "Spring Fling",
      "description": "Pink, yellow, green burst—artist channels hope through fresh beginnings.",
      "price": 2250.0,
      "origin": "Italy",
      "image": "art59.png"
    },
    {
      "id": 60,
      "name": "Fiery Motion",
      "description": "Orange, black, blue arrows—directions swirl inside a burning moment.",
      "price": 1800.0,
      "origin": "USA",
      "image": "art60.png"
    },
    {
      "id": 61,
      "name": "Fluttered Night",
      "description": "Black, purple, yellow butterflies—transformation fluttering through fading painted light.",
      "price": 2100.0,
      "origin": "China",
      "image": "art61.png"
    },
    {
      "id": 62,
      "name": "Rustle Script",
      "description": "Red, teal, silver—autumn wind scrawls across textured memory field.",
      "price": 2600.0,
      "origin": "Egypt",
      "image": "art62.png"
    },
    {
      "id": 63,
      "name": "Violet Whisper",
      "description": "Blue, purple, red forms—gentle thoughts dissolve into soft abstraction.",
      "price": 1450.0,
      "origin": "Poland",
      "image": "art63.png"
    },
    {
      "id": 64,
      "name": "Solar Spiral",
      "description": "Yellow, blue, orange rings—planets orbit endless possibilities in time.",
      "price": 2300.0,
      "origin": "Thailand",
      "image": "art64.png"
    }
  ];
  

// Function to get paginated art pieces
export const getArtPieces = (offset = 0, limit = 12) => {
  return artPieces.slice(offset, offset + limit);
};

// Function to search art pieces
export const searchArtPieces = (query) => {
  if (!query) return artPieces;
  
  const lowerQuery = query.toLowerCase();
  return artPieces.filter(art => 
    art.name.toLowerCase().includes(lowerQuery) ||
    art.description.toLowerCase().includes(lowerQuery) ||
    art.origin.toLowerCase().includes(lowerQuery)
  );
};

// Lightweight semantic search (no external deps)
// - Normalizes and tokenizes text
// - Expands query with a small synonym map
// - Scores matches with field weights and partial token matching
// - Returns topK results sorted by score
const STOP_WORDS = new Set(['the','a','an','and','or','of','to','in','on','for','with','from','is','are','at','by','our','your']);

const SYNONYMS = {
  // themes
  ocean: ['sea','water','waves','coast','coastal','harbor','reef'],
  mountain: ['hill','alps','canyon','peak','range'],
  desert: ['sand','sahara','dune'],
  forest: ['woods','trees','canopy','jungle'],
  flower: ['flowers','orchid','lotus','rose','wildflowers','bloom'],
  city: ['urban','street','market','village'],
  night: ['moon','moonlit','star','stars','starry','twilight','dusk','midnight','cosmic'],
  blue: ['azure','sapphire','cobalt','turquoise'],
  red: ['scarlet','crimson','ruby'],
  green: ['emerald','jade','opaline','opal'],
  gold: ['golden','saffron','copper','amber'],
  japan: ['japanese'],
  usa: ['america','american','us'],
  uk: ['england','britain','british'],
  korea: ['korean'],
  china: ['chinese'],
  france: ['french'],
  italy: ['italian']
};

function normalize(text) {
  return (text || '')
    .toLowerCase()
    .replace(/[^a-z0-9\s]/g, ' ')
    .replace(/\s+/g, ' ') 
    .trim();
}

function tokenize(text) {
  return normalize(text)
    .split(' ')
    .filter(t => t && !STOP_WORDS.has(t));
}

function expandTokens(tokens) {
  const expanded = new Set(tokens);
  tokens.forEach(t => {
    Object.entries(SYNONYMS).forEach(([base, list]) => {
      if (t === base || list.includes(t)) {
        expanded.add(base);
        list.forEach(s => expanded.add(s));
      }
    });
  });
  return Array.from(expanded);
}

export const semanticSearchArtPieces = (query, topK = 5) => {
  if (!query || !query.trim()) return artPieces.slice(0, topK);

  const queryTokens = expandTokens(tokenize(query));

  const weightName = 3;
  const weightDesc = 2;
  const weightOrigin = 2;

  const scored = artPieces.map(art => {
    const nameTokens = tokenize(art.name);
    const descTokens = tokenize(art.description);
    const originTokens = tokenize(art.origin);

    let score = 0;

    queryTokens.forEach(qt => {
      // exact token hits
      if (nameTokens.includes(qt)) score += weightName * 2;
      if (descTokens.includes(qt)) score += weightDesc;
      if (originTokens.includes(qt)) score += weightOrigin * 1.5;

      // partial matches for longer tokens
      if (qt.length >= 4) {
        if (nameTokens.some(t => t.includes(qt) || qt.includes(t))) score += weightName;
        if (descTokens.some(t => t.includes(qt) || qt.includes(t))) score += weightDesc * 0.6;
      }
    });

    // phrase boost if the full query appears somewhere
    const full = normalize(query);
    const hay = `${normalize(art.name)} ${normalize(art.description)} ${normalize(art.origin)}`;
    if (full.length > 4 && hay.includes(full)) score += 4;

    return { art, score };
  });

  // sort by score desc; filter zeros; fallback to keyword search if all 0
  scored.sort((a, b) => b.score - a.score);
  const nonZero = scored.filter(s => s.score > 0).map(s => s.art);
  if (nonZero.length === 0) return searchArtPieces(query).slice(0, topK);
  return nonZero.slice(0, topK);
};